Site={animationSpeed:666,mobileThreshold:601,init:function(){var _this=this;_this.fixWidows(),_this.Menu.init(),_this.Countdown.init(),$(window).resize(function(){_this.onResize(),_this.InlineVideo.onResize()}),$(document).ready(function(){_this.InlineVideo.init()}),_this.videoWrapper()},onResize:function(){Site.Menu.windowWidth=$(window).width()},fixWidows:function(){$(".js-fix-widows").each(function(){var string=$(this).html();string=string.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(string)})},videoWrapper:function(){$(".wrapped-video").on("loadedmetadata",function(){})}},Site.InlineVideo={vimeoPlayers:[],init:function(){var _this=this;$(".inline-video-player").each(function(index,player){var vimeoUrl=$(player).attr("data-vimeo-url");if(vimeoUrl&&void 0!==vimeoUrl){var vimeoOptions={url:vimeoUrl,title:!1};_this.vimeoPlayers[index]=new Vimeo.Player(player,vimeoOptions),_this.bindVimeo(_this.vimeoPlayers[index])}else $(player).on("click",_this.handleClick)})},handleClick:function(){var $player=$(this),$video=$player.find(".inline-video");$player.hasClass("playing")?($video[0].pause(),$player.removeClass("playing")):($video[0].play(),$player.addClass("playing"))},bindVimeo:function($player){var _this=this;$player.on("loaded",function(){_this.iframeHeight(this.element)}),$player.on("play",function(){$(this.element).parent(".inline-video-player").addClass("playing")}),$player.on("pause",function(){$(this.element).parent(".inline-video-player").removeClass("playing")})},iframeHeight:function(iframe){var $iframe=$(iframe),iframeWidth=Math.round($iframe.width()),iframeHeight=iframeWidth/16*9;iframeHeight+=6,$iframe.css("height",iframeHeight+"px")},onResize:function(){var _this=this;_this.vimeoPlayers.length>0&&$(_this.vimeoPlayers).each(function(index,player){_this.iframeHeight(player.element)})}},Site.Menu={init:function(){var _this=this;_this.windowWidth=$(window).width(),$(".js-scrollto").on("click",function(){var section=$(this).data("scroll"),isMobile=$(this).hasClass("mobile-scrollto"),headerOffset=_this.getHeaderOffset(isMobile);_this.scrollTo(section,headerOffset)}),$("#menu-toggle").length&&$("#menu-toggle").on("click",function(){$("body").toggleClass("menu-open")})},getHeaderOffset:function(isMobile){var $header=$("#header");return isMobile&&($header=$("#mobile-header")),$header.outerHeight()+($header.innerHeight()-$header.height())},scrollTo:function(section,headerOffset){var $target=$("#section-"+section);$("body").removeClass("menu-open"),$("html, body").stop().animate({scrollTop:$target.offset().top-headerOffset},Site.animationSpeed)}},Site.Countdown={dayInSeconds:86400,hoursInSeconds:3600,interval:void 0,init:function(){var _this=this;_this.$countdown=$("#countdown"),_this.$countdownDays=$("#countdown-days"),_this.$countdownHours=$("#countdown-hours"),_this.$countdownMinutes=$("#countdown-minutes"),_this.$countdownSeconds=$("#countdown-seconds"),_this.end=_this.$countdown.data("end");var now=moment().utc(),nowUnixTimestampSeconds=now.format("X");_this.secondsRemaining=_this.end-nowUnixTimestampSeconds,_this.checkFinished(),_this.displayRemainingTime(),_this.interval=window.setInterval(function(){_this.secondsRemaining--,_this.checkFinished(),_this.displayRemainingTime()},1e3)},displayRemainingTime:function(){var _this=this,daysRemaining=_this.secondsRemaining/_this.dayInSeconds,daysRemainingRemainder=_this.secondsRemaining%_this.dayInSeconds;_this.$countdownDays.text(_this.displayValueFromFloat(daysRemaining));var hoursRemaining=daysRemainingRemainder/_this.hoursInSeconds;_this.$countdownHours.text(_this.displayValueFromFloat(hoursRemaining));var hoursRemainingRemainder=daysRemainingRemainder%_this.hoursInSeconds,minutesRemaining=hoursRemainingRemainder/60;_this.$countdownMinutes.text(_this.displayValueFromFloat(minutesRemaining));var minutesRemainingRemainder=hoursRemainingRemainder%60;_this.$countdownSeconds.text(_this.displayValueFromFloat(minutesRemainingRemainder))},checkFinished:function(){var _this=this;_this.secondsRemaining<=0&&(window.clearInterval(_this.interval),$("#section-countdown").remove())},displayValueFromFloat:function(input){return this.padNumber(Math.floor(input))},padNumber:function(n){return n+="",n.length>=2?n:new Array(2-n.length+1).join("0")+n}},Site.init();
//# sourceMappingURL=main.min.js.map
