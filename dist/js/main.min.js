Site={mobileThreshold:601,init:function(){var _this=this;_this.fixWidows(),$(window).resize(function(){_this.onResize()}),$(document).ready(function(){_this.Video.init()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var string=$(this).html();string=string.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(string)})}},Site.Video={playing:!1,toPlay:0,init:function(){var _this=this;_this.$videos=$(".splash-video"),_this.$video1=$("#splash-video-1"),_this.$video1.on("canplaythrough.video1",_this.handleCanPlayThrough.bind(_this)),_this.canAutoplay=!0,_this.threshold=100},handleCanPlayThrough:function(){var _this=this;_this.$video1.off("canplaythrough.video1"),_this.bindScroll()},bindScroll:function(){var _this=this;$(window).scroll(function(event){var scrollTop=$(window).scrollTop();_this.handleScroll(scrollTop)})},handleScroll:function(scrollTop){var _this=this;_this.canAutoplay&&(!_this.toPlay&&scrollTop>_this.threshold?_this.playAndSwitch():_this.toPlay&&scrollTop<.8*_this.threshold&&_this.playAndSwitch())},playAndSwitch:function(){var _this=this,$videoToPlay=$(_this.$videos[_this.toPlay]);_this.playing||($videoToPlay[0].play(),_this.playing=!0,$videoToPlay.on("ended",function(event){_this.playing=!1,_this.$videos.removeClass("u-hidden"),$videoToPlay.addClass("u-hidden"),$videoToPlay[0].currentTime=0,_this.toPlay=_this.toPlay?0:1,$videoToPlay.off("ended"),WP.wp_debug&&$("#video-displayed").text(_this.toPlay),_this.handleScroll($(window).scrollTop())}))}},Site.init();
//# sourceMappingURL=main.min.js.map
