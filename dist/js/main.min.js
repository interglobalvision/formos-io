Site={mobileThreshold:601,init:function(){var _this=this;$(window).resize(function(){_this.onResize()}),$(document).ready(function(){_this.Video.init()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var string=$(this).html();string=string.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(string)})}},Site.Video={playing:!1,toPlay:0,init:function(){var _this=this;_this.$container=$("#splash-video-container"),_this.$videos=$(".splash-video"),_this.$video1=$("#splash-video-1"),_this.$video2=$("#splash-video-2"),_this.$video1.on("canplaythrough",_this.handleCanPlayThrough.bind(_this)),_this.canAutoplay=!0,_this.threshold=100,_this.Waypoint=new Waypoint({element:_this.$container[0],handler:_this.handleWaypoint.bind(this),offset:-300,enabled:!1})},handleCanPlayThrough:function(){this.Waypoint.enable()},bindWaypoint:function(){},handleWaypoint:function(direction){var _this=this;_this.canAutoplay&&!_this.playing&&("down"==direction?_this.playAndSwitch(_this.$video1):"up"===direction&&_this.playAndSwitch(_this.$video2))},playAndSwitch:function($videoToPlay){var _this=this;console.log("playing",$videoToPlay),$videoToPlay[0].play(),_this.playing=!0,$videoToPlay.on("ended",function(event){if($videoToPlay.off("ended"),_this.playing=!1,_this.$videos.removeClass("u-hidden"),$videoToPlay.addClass("u-hidden"),$videoToPlay[0].position=0,$videoToPlay[0].play(),$videoToPlay[0].pause(),WP.wp_debug){var notHidden=_this.$videos.filter(":not(.u-hidden)");$("#video-displayed").text(notHidden[0].id)}})}},Site.init();
//# sourceMappingURL=main.min.js.map
