Site={animationSpeed:666,mobileThreshold:601,init:function(){var _this=this;_this.fixWidows(),_this.Menu.init(),_this.Countdown.init(),$(window).resize(function(){_this.onResize()}),$(document).ready(function(){_this.WhatIsVideo.init(),_this.Modules.init()})},onResize:function(){},fixWidows:function(){$(".js-fix-widows").each(function(){var string=$(this).html();string=string.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(string)})}},Site.WhatIsVideo={$player:$("#what-is-video-player"),$video:$("#what-is-video"),init:function(){var _this=this;_this.$player.on("click",_this.handleClick.bind(_this))},handleClick:function(){var _this=this;_this.$player.hasClass("playing")?(_this.$video[0].pause(),_this.$player.removeClass("playing")):(_this.$video[0].play(),_this.$player.addClass("playing"))}},Site.Menu={init:function(){var _this=this;$mobileHeader=$("#mobile-header"),_this.mobileHeaderOffset=$mobileHeader.outerHeight()+($mobileHeader.innerHeight()-$mobileHeader.height()),$(".js-scrollto").on("click",function(){var section=$(this).data("scroll"),isMobile=$(this).hasClass("mobile-scrollto");_this.scrollTo(section,isMobile)}),$("#menu-toggle").length&&$("#menu-toggle").on("click",function(){$("body").toggleClass("menu-open")})},scrollTo:function(section,isMobile){var _this=this,$target=$("#section-"+section),headerOffset=0;isMobile&&(headerOffset=_this.mobileHeaderOffset),$("body").removeClass("menu-open"),$("html, body").stop().animate({scrollTop:$target.offset().top-headerOffset},Site.animationSpeed)}},Site.Countdown={dayInSeconds:86400,hoursInSeconds:3600,interval:void 0,init:function(){var _this=this;_this.$countdown=$("#countdown"),_this.$countdownDays=$("#countdown-days"),_this.$countdownHours=$("#countdown-hours"),_this.$countdownMinutes=$("#countdown-minutes"),_this.$countdownSeconds=$("#countdown-seconds"),_this.end=_this.$countdown.data("end");var now=moment().utc(),nowUnixTimestampSeconds=now.format("X");_this.secondsRemaining=_this.end-nowUnixTimestampSeconds,_this.checkFinished(),_this.displayRemainingTime(),_this.interval=window.setInterval(function(){_this.secondsRemaining--,_this.checkFinished(),_this.displayRemainingTime()},1e3)},displayRemainingTime:function(){var _this=this,daysRemaining=_this.secondsRemaining/_this.dayInSeconds,daysRemainingRemainder=_this.secondsRemaining%_this.dayInSeconds;_this.$countdownDays.text(_this.displayValueFromFloat(daysRemaining));var hoursRemaining=daysRemainingRemainder/_this.hoursInSeconds;_this.$countdownHours.text(_this.displayValueFromFloat(hoursRemaining));var hoursRemainingRemainder=daysRemainingRemainder%_this.hoursInSeconds,minutesRemaining=hoursRemainingRemainder/60;_this.$countdownMinutes.text(_this.displayValueFromFloat(minutesRemaining));var minutesRemainingRemainder=hoursRemainingRemainder%60;_this.$countdownSeconds.text(_this.displayValueFromFloat(minutesRemainingRemainder))},checkFinished:function(){var _this=this;_this.secondsRemaining<=0&&(window.clearInterval(_this.interval),$("#section-countdown").remove())},displayValueFromFloat:function(input){return this.padNumber(Math.floor(input))},padNumber:function(n){return n+="",n.length>=2?n:new Array(2-n.length+1).join("0")+n}},Site.Modules={played:!1,offset:0,init:function(){var _this=this;_this.$videos=$(".module-video"),_this.threshold=_this.$videos.offset().top-$(window).height()/3*2,_this.bindScroll()},bindScroll:function(){var _this=this;$(window).on("scroll.playOnScroll",function(event){var scrollTop=$(window).scrollTop();_this.handleScroll(scrollTop)})},handleScroll:function(scrollTop){var _this=this;!_this.played&&scrollTop>_this.threshold&&(_this.playAnimation(),$(window).off("scroll.playOnScroll"))},playAnimation:function(){var _this=this;_this.played=!0,_this.$videos.each(function(index){var video=this;video.loop=!0,setTimeout(function(callback){video.play(),$(video).on("ended",function(){this.loop=!0,_this.bindHover(this)})},_this.offset*index)})}},Site.init();
//# sourceMappingURL=main.min.js.map
